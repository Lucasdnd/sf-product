{% extends "base.html.twig" %}

{% block body %}
    <h1>Products list</h1>
    <hr>
    <p class="text-right">
        <a class="btn btn-sm btn-success"
            href="{{ path('product_create') }}">
            New Product
        </a>
    </p>
       <table class="table">
        <thead class="thead-light">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Designation</th>
                <th scope="col">Reference</th>
                <th scope="col">Brand</th>
                <th scope="col">Price</th>
                <th scope="col">Stock</th>
                <th scope="col">Active</th>
                <th scope="col"></th>
            </tr>
        </thead> 
        {% for product in products %}

        <tr>
            <td>{{ product.id }}</td>
            <td><a href="{{ path('product_read',{'id': product.id}) }}">{{ product.designation }}</td>
            <td>{{ product.reference }}</td>
            <td>{{ product.brand }}</td>
            <td>{{ product.price }} â‚¬</td>
            <td>{{ product.stock }}</td>
                        <td>
                {% if product.active %}
                    <span class="badge badge-success">Yes</span>
                {% else %}
                    <span class="badge badge-danger">No</span>
                {% endif %}
            </td>
            <td>
                <a class="btn btn-sm btn-warning"
                    href="{{ path('product_update', {'id': product.id}) }}">
                    Edit
                </a>
                <a class="btn btn-sm btn-danger"
                    href="{{ path('product_delete', {'id': product.id}) }}">
                    Delete
                </a>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="6">
                No product registered
            </td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}